---
import Base from "../layouts/Base.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects"))
  .sort((a,b)=> (b.data.order ?? 0) - (a.data.order ?? 0));
---
<Base title="Hyunju Kim â€” Projects">
  <h1>Projects</h1>
  <p class="lead">Selected academic and research works exploring micro-habitats, ecological archives, and climate-driven design.</p>
  <section class="projects-grid">
    {projects.map((p)=> (
      <ProjectCard
        href={`/projects/${p.slug}/`}
        title={p.data.title}
        year={String(p.data.year)}
        summary={p.data.summary}
        cover={p.data.cover}
      />
    ))}
  </section>
</Base>